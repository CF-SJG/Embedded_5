# 스마트창문 - 임베디드시스템(5조)
[시연 영상](https://drive.google.com/file/d/1Mtc5kd34DYA2gDyHuz0GIipPqfxOz5GU/view) <br>

---

## 👋 아이디어 선정 및 동기
현대 사회에서 창문을 열고 닫는 단순한 동작조차 환경적 요인이나 개인적 상황에 따라 불편함을 초래할 수 있다. 예를 들어, 실내에 머무는 시간이 길어 환기가 필요하거나 창문을 열기 어려운 경우, 갑작스러운 비가 내릴 때 외출 중이라 창문을 닫기 어려운 경우가 발생할 수 있다. 특히, 밤에는 잠을 방해하지 않도록 암막 환경이 필요하거나 아침에 자연스럽게 밝은 빛을 받아 일어날 수 있는 환경이 요구되기도 한다.
이와 같은 불편함을 해소하고, 보다 편리하고 안전한 생활 환경을 조성하기 위해 스마트 창문 시스템을 설계했다. 본 시스템은 자동화된 창문 및 블라인드 제어 기능을 제공하며, 환경 변화에 신속히 대응하고 사용자 편의성을 극대화하며, 이를 통해 생활의 질을 높이고, 에너지 효율을 향상시키는 것을 목표로 하였다.
  
<br>

---

## ✨ 주요 기능

### 수동/자동 모드 설정
블루투스를 통해 사용자가 수동 모드와 자동 모드 간 전환이 가능하다.
수동 모드 : 사용자가 직접 창문 및 블라인드를 원격으로 열고 닫을 수 있다.
자동 모드 : 빗물 감지 센서를 통해 비가 올 때 창문이 자동으로 닫힌다. 센서가 3회 이상 연속으로 물을 감지할 경우 창문이 닫힌다.

<br>

### 초음파 센서를 이용한 장애물 감지
창문이 닫히는 도중 장애물을 감지하면 즉시 작동을 멈추고 창문을 다시 연다.
장애물 존재 여부를 사용자에게 알리며, 자동 모드에서는 장애물이 사라진 후 환경 정보를 다시 확인하여 창문 제어를 재개한다.

<br>

### 조도 센서를 이용한 블라인드 자동 제어
실내 조도 상황에 따라 블라인드를 자동으로 올리거나 내린다.
밝기가 어두운 밤에는 블라인드를 내려 암막 환경을 조성하여 숙면을 돕고, 아침에는 밝아진 실내 환경을 만들어 사용자가 자연스럽게 깨어날 수 있도록 지원한다.

---

## 🛠️ 수정 사항
개발 과정에서 몇 가지 기술적 한계와 제한 조건에 직면하였고, 이를 해결하기 위해 여러 번의 테스트와 논의를 거쳤다. 하지만 일부 기능은 구현 과정에서 발생한 문제를 해결하지 못했다
다음은 해당 내용이다
<br>

### RTC 모듈을 이용한 스케줄 기능 제외
초기 설계에서는 RTC 모듈을 사용하여 특정 시간에 창문을 열고 닫는 스케줄 기능을 구현하려 했다. 그러나 테스트 과정에서 시간이 설정된 후 모드가 수동 또는 자동으로 변경될 때 작동이 정상적으로 이루어지지 않는 문제가 반복적으로 발생했다. 이로 인해 RTC 모듈이 다른 기능과 충돌을 일으키며 시스템 전체의 안정성을 저해할 가능성이 있다고 판단하여, 해당 기능을 제외하기로 결정했다.
스케줄 기능은 스마트 창문의 자동화를 더 편리하게 만드는 핵심적인 요소였으나, 안정성과 완성도를 고려하여 이를 과감히 제외한 것이 최선의 선택이라고 판단했다.
  
### 온·습도 센서 제외
온·습도 센서를 활용하여 창문의 상태를 제어하려 했었다. 예를 들어, 온도가 일정 수준 이상 높거나 습도가 일정 기준을 초과하는 경우 창문을 닫도록 설계하려 했다. 그러나 온·습도 센서를 라즈베리 파이와 연결해 데이터를 주기적으로 읽어오는 과정에서, 데이터가 잘 읽혀지는 경우와 읽히지 않는 경우가 교차로 발생하는 문제가 있었다. 또한, 라즈베리 파이 5에서는 간헐적으로 데이터 손실이 발생했고, 라즈베리 파이 4에서는 센서가 전혀 작동하지 않는 현상이 확인되었다. 이러한 기술적 문제를 해결하기 위해 많은 시도를 했으나, 제한된 시간 내에 안정적인 데이터를 확보하지 못했다. 이에 따라 온·습도 센서를 제외하기로 결정했다.
  
### LCD 디스플레이 제외
초기 구상에서는 LCD 디스플레이를 활용해 온·습도 정보를 출력하고 창문의 상태를 시각적으로 표시하려 했다. 그러나 온·습도 센서 기능이 제외됨에 따라 LCD 디스플레이의 활용성이 크게 줄어들었고, 프로젝트 전체에서 필수적인 요소로 보기는 어렵다는 판단이 들었다. 따라서 LCD 디스플레이 또한 최종 설계에서 제외하기로 했다.

### 기타 센서 및 부품 제외
프로젝트 초기에는 미세먼지 센서를 통해 공기 질에 따라 창문 상태를 제어하거나, 리미트 스위치를 추가하여 창문 위치를 더욱 정교하게 조작하려는 계획도 있었다. 그러나 미세먼지 센서와 리미트 스위치는 가격이 상대적으로 높고, 우리가 테스트할 수 있는 환경을 구축하기 어렵다는 현실적인 제약에 직면했으며, 이에 따라 비용 절감과 개발 효율성을 위해 이러한 부품들도 최종적으로 제외하기로 결정했다.

<br>

## 🏆 전체 시스템 구조
<img width="435" alt="그림1" src="https://github.com/user-attachments/assets/1151e07b-b13a-4bcc-9b34-713ee3eb345a" />
---

## 👬 팀원 소개

<div>
  <table>
    <tr>
      <th>Profile</th>
      <th>Role</th>
    </tr>
    <tr>
      <td align="center">
        <a href="https://github.com/combikms">
          <img src="https://avatars.githubusercontent.com/u/156290648?v=4" width="100" height="80" alt=""/>
          <br/>
          <sub><b>강인석</b></sub>
        </a>
      </td>
      <td>
        - 주요 기능 개발 (예약 및 취소, 업체 등록, 대기열 관리, 찜, 내 정보 등) <br>
        - FireStore 데이터베이스 설계 <br>
        - Frontend UI 배치 <br>
        - WaitFree 기능에 OpenAPI 연동 <br>
      </td>
   </tr>
   <tr>
      <td align="center">
        <a href="https://github.com/GitgaJini">
          <img src="https://avatars.githubusercontent.com/u/112643202?v=4" width="100" height="80" alt=""/>
          <br/>
          <sub><b>김은진</b></sub>
        </a>
      </td>
      <td>
        - 모든 화면 설계 및 디자인 <br>
        - 네비바/둘러보기/FAQ 페이지 구현 <br>
        - 아이콘/애니메이션 제작 및 글귀 작성 <br>
        - 주도, 기능 제안 및 구체화
      </td>
   </tr>
   <tr>
      <td align="center">
        <a href="https://github.com/CF-SJG">
          <img src="https://avatars.githubusercontent.com/u/141010553?v=4" width="100" height="80" alt=""/>
          <br/>
          <sub><b>이민규</b></sub>
        </a>
      </td>
      <td>
        - 주요 기능 개발 (계정 관련 기능, FCM, 신고/문의 기능) <br>
        - Firebase프로젝트 관리 <br>
        - 사용자 데이터베이스 관리 및 통합 <br>
        - 버그 테스트 및 기능 측면 수정
      </td>
   </tr>
     <tr>
      <td align="center">
        <a href="https://github.com/dhdheb">
          <img src="https://avatars.githubusercontent.com/u/144876081?v=4" width="100" height="80" alt=""/>
          <br/>
          <sub><b>이영정</b></sub>
        </a>
      </td>
      <td>
        - 주요 기능 개발: 현재 위치 기반 지도 API 통합, 주소 변환 및 거리 계산 <br>
        - QR 코드 생성 및 딥 링크 처리: 예약 시스템과 라우팅 <br>
        - 검색 정렬 및 필터링: 혼잡도/거리순 정렬과 주변 매장 필터링 구현 <br>
        - UI 및 기능 테스트: UX 개선을 위한 UI 일부 수정과 기능 테스트
      </td>
   </tr>
  </table>
</div>
